---
date: '2021-08-03'
title: '[JS Algo] 미로의 최단 거리 통로 (BFS)'
categories: ['Algorithm', 'JavaScript']
summary: ''
thumbnail: './Algorithm.png'
---

## Q. 미로의 최단 거리 통로 (BFS)

<details>
<summary></summary>
<div markdown="1">       
격자판으로 된 미로에서 탈출하는 최단 경로의 길이를 반환해야 합니다. 출발점과 탈출지점은 각각 (1, 1), (N, N) 입니다. 좌표의 값이 1인 곳은 벽이고 0인 곳은 도로이므로 0 으로 된 좌표로만 이동할 수 있으며 상하좌우의 움직임만 가능합니다.
도착할 수 없다면 -1을 반환합니다.
</div>
</details>

## A. 풀이
주어진 격자판의 길이와 같은 0으로 초기화 된 N * N 짜리 거리배열 생성하고, 여기에 이동할 때마다 거리합을 누적해나가 탈출 지점에 도착했을 때 해당 좌표의 거리 누적합을 반환하면 됩니다. <br>
`queue` 에는 좌표값이 삽입됩니다. `queue` 에서 빼낸 좌표(현재)는 해당 좌표의 상하좌우(다음) 좌표값을 구해 그 좌표값이 `0` 인지 확인하고 이동하고, 이동한 후에는 `1`로 변환하고 거리배열에 현재좌표 거리값에 `1` 을 더한 누적값을 할당합니다. 이 과정을 목표지점에 도달할 때까지 반복하며 목표지점에 도달하지 못할 경우, 즉, 거리배열의 도착지점 좌표값이 `0` 인 경우에는 `-1` 을 반환합니다.
```javascript
function solution (board){
    let answer = 0;
    let N = board.length;
    let dx = [-1, 0, 1, 0];
    let dy = [0, 1, 0, -1];
    let dist = Array.from(Array(N), () => Array(N).fill(0));

    function BFS (x, y) {
        let queue = [];
        queue.push([x, y]);
        board[x][y] = 1;
        while (queue.length) {
            let curr = queue.shift();
            for (let j = 0; j < 4; j ++) {
                let nx = curr[0] + dx[j];
                let ny = curr[1] + dy[j];
                if (nx >= 0 && nx < N && 
                    ny >= 0 && ny < N && 
                    board[nx][ny] == 0) {
                        board[nx][ny] = 1;
                        dist[nx][ny] = dist[curr[0]][curr[1]] + 1;
                        queue.push([nx, ny]);
                    }
            }
        }
    }
    BFS(0, 0);
    console.log(dist);
    if (dist[N - 1][N - 1] === 0) {
        return -1;
    } else {
        answer = dist[N - 1][N - 1];
    }
    return answer;
}
console.log(solution([[0, 0, 0, 0, 0, 0, 0], 
                      [0, 1, 1, 1, 1, 1, 0], 
                      [0, 0, 0, 1, 0, 0, 0], 
                      [1, 1, 0, 1, 0, 1, 1],
                      [1, 1, 0, 1, 0, 0, 0], 
                      [1, 0, 0, 0, 1, 0, 0], 
                      [1, 0, 1, 0, 0, 0, 0]])); // 12
```