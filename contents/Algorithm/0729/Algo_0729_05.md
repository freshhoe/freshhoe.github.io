---
date: '2021-07-29'
title: '[JS Algo] 연속 부분수열3'
categories: ['Algorithm', 'JavaScript']
summary: ''
thumbnail: './Algorithm.png'
---

## Q. 연속 부분수열3

<details>
<summary></summary>
<div markdown="1">       
N 개의 수로 이루어진 수열에서 연속부분수열의 합이 목표값 M 이하가 되는 모든 연속부분수열의 갯수를 구해 반환해야 합니다.
</div>
</details>

## A. 풀이

**two pointers** 알고리즘을 사용합니다. 두 포인터의 시작은 같습니다. 연속부분수열의 합이 목표값 보다 크다면 **start** 포인트 인덱스를 늘리고 해당 인덱스의 값을 합계에서 빼줍니다. **end** 포인트가 하나 증가할 때마다 해당 인덱스의 값이 부분수열의 새로운 원소가 되므로, 해당 인덱스 이전의 원소들과 새로운 원소로 구성되어 새롭게 추가된 모든 연속부분수열의 갯수는 `end - start + 1` 개입니다. 이 갯수를 **two pointers** 알고리즘으로 밀고나가면서 결과변수에 할당합니다.

```javascript
function solution(nums, m) {
  let answer = 0;
  // sum 은 항상 lt ~ rt 까지의 합. 지속적으로 누적만 하는 합이든 lt 를 갱신하고 빼주는 합이든.
  let sum = 0;
  let lt = 0;
  for (let rt = 0; rt < nums.length; rt++) {
    sum += nums[rt];
    while (sum > m) {
      sum -= nums[lt++];
    }
    // rt가 가리키는 단일 원소를 포함하는 rt 이하의 가능한 모든 부분수열의 갯수
    answer += rt - lt + 1;
  }

  return answer;
}
console.log(solution([1, 3, 1, 2, 3], 5)); // 10
console.log(solution([1, 1, 1, 1, 1, 1], 3)); // 15
console.log(solution([1, 1, 2, 2, 1, 2, 1, 3, 2], 5)); // 22
```
